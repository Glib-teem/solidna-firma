{"version":3,"file":"index.js","sources":["../src/home.js"],"sourcesContent":["import { getProducts, getCategories } from './js/products-api.js';\nimport { refs } from './js/refs.js';\nimport {\n  renderCategories,\n  renderProducts,\n  updateNavCounters,\n} from './js/render-function.js'; // <- Змінено на \"function\"\nimport { getCart, getWishlist } from './js/storage.js';\nimport {\n  clearElement,\n  setActiveCategory,\n  showNotFound,\n  hideNotFound,\n  showElement,\n  hideElement,\n  showLoader,\n  hideLoader,\n  initTheme,\n  showToast,\n} from './js/helpers.js';\nimport { initModalListeners } from './js/modal.js';\nimport {\n  handleCategoryClick,\n  handleProductClick,\n  handleSearchSubmit,\n  handleClearSearch,\n  handleLoadMore,\n  handleWishlistClick,\n  handleCartClick,\n  handleThemeToggle,\n  handleScrollToTop,\n  initScrollListener,\n} from './js/handlers.js';\n\n// Initialize page\nasync function initHomePage() {\n  try {\n    // Initialize theme\n    initTheme();\n\n    // Show loader\n    showLoader();\n\n    // Load categories\n    const categories = await getCategories();\n    const categoriesWithAll = ['All', ...categories];\n\n    if (refs.categoriesList) {\n      refs.categoriesList.innerHTML = renderCategories(categoriesWithAll);\n      setActiveCategory(refs.categoriesList, 'All');\n    }\n\n    // Load initial products\n    const productsResponse = await getProducts(1);\n\n    if (refs.productsList) {\n      if (productsResponse.products && productsResponse.products.length > 0) {\n        refs.productsList.innerHTML = renderProducts(productsResponse.products);\n\n        // Show load more button if needed\n        if (\n          productsResponse.products.length === 12 &&\n          productsResponse.total >\n            productsResponse.skip + productsResponse.products.length\n        ) {\n          showElement(refs.loadMoreBtn);\n        }\n      } else {\n        showNotFound(refs.notFound);\n      }\n    }\n\n    // Update navigation counters\n    const cartCount = getCart().length;\n    const wishlistCount = getWishlist().length;\n    updateNavCounters(cartCount, wishlistCount);\n  } catch (error) {\n    console.error('Error initializing home page:', error);\n    showToast('Error loading page data', 'error');\n  } finally {\n    hideLoader();\n  }\n}\n\n// Add event listeners\nfunction addEventListeners() {\n  // Categories\n  if (refs.categoriesList) {\n    refs.categoriesList.addEventListener('click', handleCategoryClick);\n  }\n\n  // Products\n  if (refs.productsList) {\n    refs.productsList.addEventListener('click', handleProductClick);\n  }\n\n  // Search\n  if (refs.searchForm) {\n    refs.searchForm.addEventListener('submit', handleSearchSubmit);\n  }\n\n  if (refs.clearSearchBtn) {\n    refs.clearSearchBtn.addEventListener('click', handleClearSearch);\n  }\n\n  // Load more\n  if (refs.loadMoreBtn) {\n    refs.loadMoreBtn.addEventListener('click', handleLoadMore);\n  }\n\n  // Modal buttons\n  if (refs.wishlistBtn) {\n    refs.wishlistBtn.addEventListener('click', handleWishlistClick);\n  }\n\n  if (refs.cartBtn) {\n    refs.cartBtn.addEventListener('click', handleCartClick);\n  }\n\n  // Theme toggle\n  if (refs.themeToggleBtn) {\n    refs.themeToggleBtn.addEventListener('click', handleThemeToggle);\n  }\n\n  // Scroll to top\n  if (refs.scrollTopBtn) {\n    refs.scrollTopBtn.addEventListener('click', handleScrollToTop);\n  }\n\n  // Initialize modal listeners\n  initModalListeners();\n\n  // Initialize scroll listener\n  initScrollListener();\n}\n\n// DOM Content Loaded\ndocument.addEventListener('DOMContentLoaded', () => {\n  addEventListeners();\n  initHomePage();\n});\n"],"names":["initHomePage","initTheme","showLoader","categoriesWithAll","getCategories","refs","renderCategories","setActiveCategory","productsResponse","getProducts","renderProducts","showElement","showNotFound","cartCount","getCart","wishlistCount","getWishlist","updateNavCounters","error","showToast","hideLoader","addEventListeners","handleCategoryClick","handleProductClick","handleSearchSubmit","handleClearSearch","handleLoadMore","handleWishlistClick","handleCartClick","handleThemeToggle","handleScrollToTop","initModalListeners","initScrollListener"],"mappings":"iOAmCA,eAAeA,GAAe,CAC5B,GAAI,CAEFC,IAGAC,IAIA,MAAMC,EAAoB,CAAC,MAAO,GADf,MAAMC,GACsB,EAE3CC,EAAK,iBACPA,EAAK,eAAe,UAAYC,EAAiBH,CAAiB,EAClEI,EAAkBF,EAAK,eAAgB,KAAK,GAI9C,MAAMG,EAAmB,MAAMC,EAAY,CAAC,EAExCJ,EAAK,eACHG,EAAiB,UAAYA,EAAiB,SAAS,OAAS,GAClEH,EAAK,aAAa,UAAYK,EAAeF,EAAiB,QAAQ,EAIpEA,EAAiB,SAAS,SAAW,IACrCA,EAAiB,MACfA,EAAiB,KAAOA,EAAiB,SAAS,QAEpDG,EAAYN,EAAK,WAAW,GAG9BO,EAAaP,EAAK,QAAQ,GAK9B,MAAMQ,EAAYC,EAAS,EAAC,OACtBC,EAAgBC,EAAa,EAAC,OACpCC,EAAkBJ,EAAWE,CAAa,CAC3C,OAAQG,EAAO,CACd,QAAQ,MAAM,gCAAiCA,CAAK,EACpDC,EAAU,0BAA2B,OAAO,CAChD,QAAY,CACRC,GACD,CACH,CAGA,SAASC,GAAoB,CAEvBhB,EAAK,gBACPA,EAAK,eAAe,iBAAiB,QAASiB,CAAmB,EAI/DjB,EAAK,cACPA,EAAK,aAAa,iBAAiB,QAASkB,CAAkB,EAI5DlB,EAAK,YACPA,EAAK,WAAW,iBAAiB,SAAUmB,CAAkB,EAG3DnB,EAAK,gBACPA,EAAK,eAAe,iBAAiB,QAASoB,CAAiB,EAI7DpB,EAAK,aACPA,EAAK,YAAY,iBAAiB,QAASqB,CAAc,EAIvDrB,EAAK,aACPA,EAAK,YAAY,iBAAiB,QAASsB,CAAmB,EAG5DtB,EAAK,SACPA,EAAK,QAAQ,iBAAiB,QAASuB,CAAe,EAIpDvB,EAAK,gBACPA,EAAK,eAAe,iBAAiB,QAASwB,CAAiB,EAI7DxB,EAAK,cACPA,EAAK,aAAa,iBAAiB,QAASyB,CAAiB,EAI/DC,IAGAC,GACF,CAGA,SAAS,iBAAiB,mBAAoB,IAAM,CAClDX,IACArB,GACF,CAAC"}