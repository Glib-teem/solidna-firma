{"version":3,"file":"wishlist.js","sources":["../src/wishlist.js"],"sourcesContent":["import { getProductsByIds } from './js/products-api.js';\nimport { refs } from './js/refs.js';\nimport { renderProducts, updateNavCounters } from './js/render-function.js'; // Виправлено 'functions' на 'function' і додано 'js/'\nimport { getCart, getWishlist } from './js/storage.js';\nimport {\n  clearElement,\n  showNotFound,\n  hideNotFound,\n  showLoader,\n  hideLoader,\n  initTheme,\n  showToast,\n} from './js/helpers.js';\nimport { initModalListeners } from './js/modal.js';\nimport {\n  handleProductClick,\n  handleWishlistClick,\n  handleCartClick,\n  handleThemeToggle,\n  handleScrollToTop,\n  initScrollListener,\n} from './js/handlers.js';\n\n// Initialize wishlist page\nasync function initWishlistPage() {\n  try {\n    // Initialize theme\n    initTheme();\n\n    // Show loader\n    showLoader();\n\n    // Get wishlist items\n    const wishlistIds = getWishlist();\n\n    if (wishlistIds.length === 0) {\n      showNotFound(refs.notFound);\n      hideLoader();\n      return;\n    }\n\n    // Load products by IDs\n    const products = await getProductsByIds(wishlistIds);\n\n    if (refs.productsList) {\n      clearElement(refs.productsList);\n\n      if (products && products.length > 0) {\n        refs.productsList.innerHTML = renderProducts(products);\n        hideNotFound(refs.notFound);\n      } else {\n        showNotFound(refs.notFound);\n      }\n    }\n\n    // Update navigation counters\n    const cartCount = getCart().length;\n    const wishlistCount = getWishlist().length;\n    updateNavCounters(cartCount, wishlistCount);\n  } catch (error) {\n    console.error('Error loading wishlist:', error);\n    showToast('Error loading wishlist', 'error');\n    showNotFound(refs.notFound);\n  } finally {\n    hideLoader();\n  }\n}\n\n// Add event listeners\nfunction addEventListeners() {\n  // Products\n  if (refs.productsList) {\n    refs.productsList.addEventListener('click', handleProductClick);\n  }\n\n  // Modal buttons\n  if (refs.wishlistBtn) {\n    refs.wishlistBtn.addEventListener('click', () => {\n      handleWishlistClick();\n      // Refresh wishlist page after removing item\n      setTimeout(() => {\n        initWishlistPage();\n      }, 100);\n    });\n  }\n\n  if (refs.cartBtn) {\n    refs.cartBtn.addEventListener('click', handleCartClick);\n  }\n\n  // Theme toggle\n  if (refs.themeToggleBtn) {\n    refs.themeToggleBtn.addEventListener('click', handleThemeToggle);\n  }\n\n  // Scroll to top\n  if (refs.scrollTopBtn) {\n    refs.scrollTopBtn.addEventListener('click', handleScrollToTop);\n  }\n\n  // Initialize modal listeners\n  initModalListeners();\n\n  // Initialize scroll listener\n  initScrollListener();\n}\n\n// DOM Content Loaded\ndocument.addEventListener('DOMContentLoaded', () => {\n  addEventListeners();\n  initWishlistPage();\n});\n"],"names":["initWishlistPage","initTheme","showLoader","wishlistIds","getWishlist","showNotFound","refs","hideLoader","products","getProductsByIds","clearElement","renderProducts","hideNotFound","cartCount","getCart","wishlistCount","updateNavCounters","error","showToast","addEventListeners","handleProductClick","handleWishlistClick","handleCartClick","handleThemeToggle","handleScrollToTop","initModalListeners","initScrollListener"],"mappings":"kLAwBA,eAAeA,GAAmB,CAChC,GAAI,CAEFC,IAGAC,IAGA,MAAMC,EAAcC,IAEpB,GAAID,EAAY,SAAW,EAAG,CAC5BE,EAAaC,EAAK,QAAQ,EAC1BC,IACA,MACD,CAGD,MAAMC,EAAW,MAAMC,EAAiBN,CAAW,EAE/CG,EAAK,eACPI,EAAaJ,EAAK,YAAY,EAE1BE,GAAYA,EAAS,OAAS,GAChCF,EAAK,aAAa,UAAYK,EAAeH,CAAQ,EACrDI,EAAaN,EAAK,QAAQ,GAE1BD,EAAaC,EAAK,QAAQ,GAK9B,MAAMO,EAAYC,EAAS,EAAC,OACtBC,EAAgBX,EAAa,EAAC,OACpCY,EAAkBH,EAAWE,CAAa,CAC3C,OAAQE,EAAO,CACd,QAAQ,MAAM,0BAA2BA,CAAK,EAC9CC,EAAU,yBAA0B,OAAO,EAC3Cb,EAAaC,EAAK,QAAQ,CAC9B,QAAY,CACRC,GACD,CACH,CAGA,SAASY,GAAoB,CAEvBb,EAAK,cACPA,EAAK,aAAa,iBAAiB,QAASc,CAAkB,EAI5Dd,EAAK,aACPA,EAAK,YAAY,iBAAiB,QAAS,IAAM,CAC/Ce,IAEA,WAAW,IAAM,CACfrB,GACD,EAAE,GAAG,CACZ,CAAK,EAGCM,EAAK,SACPA,EAAK,QAAQ,iBAAiB,QAASgB,CAAe,EAIpDhB,EAAK,gBACPA,EAAK,eAAe,iBAAiB,QAASiB,CAAiB,EAI7DjB,EAAK,cACPA,EAAK,aAAa,iBAAiB,QAASkB,CAAiB,EAI/DC,IAGAC,GACF,CAGA,SAAS,iBAAiB,mBAAoB,IAAM,CAClDP,IACAnB,GACF,CAAC"}