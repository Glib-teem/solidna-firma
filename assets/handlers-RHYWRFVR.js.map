{"version":3,"file":"handlers-RHYWRFVR.js","sources":["../../src/js/constants.js","../../src/js/products-api.js","../../src/js/refs.js","../../src/js/render-function.js","../../src/js/storage.js","../../src/js/helpers.js","../../src/js/modal.js","../../src/js/handlers.js"],"sourcesContent":["// API endpoints\nexport const API_BASE_URL = 'https://dummyjson.com';\n\nexport const API_ENDPOINTS = {\n  PRODUCTS: '/products',\n  PRODUCT_BY_ID: id => `/products/${id}`,\n  SEARCH: '/products/search',\n  CATEGORIES: '/products/category-list',\n  CATEGORY: category => `/products/category/${category}`,\n};\n\n// Pagination\nexport const PRODUCTS_PER_PAGE = 12;\n\n// Local storage keys\nexport const STORAGE_KEYS = {\n  CART: 'cart',\n  WISHLIST: 'wishlist',\n  THEME: 'theme',\n};\n\n// CSS classes\nexport const CSS_CLASSES = {\n  HIDDEN: 'is-hidden',\n  MODAL_OPEN: 'modal--is-open',\n  CATEGORY_ACTIVE: 'categories__btn--active',\n  NOT_FOUND_VISIBLE: 'not-found--visible',\n  NAV_ACTIVE: 'nav__link--active',\n};\n\n// Button texts\nexport const BUTTON_TEXTS = {\n  ADD_TO_CART: 'Add to Cart',\n  REMOVE_FROM_CART: 'Remove from Cart',\n  ADD_TO_WISHLIST: 'Add to Wishlist',\n  REMOVE_FROM_WISHLIST: 'Remove from Wishlist',\n};\n\n// Messages\nexport const MESSAGES = {\n  NO_MORE_PRODUCTS: 'No more products to load',\n  PURCHASE_SUCCESS: 'Products purchased successfully!',\n  SEARCH_EMPTY: 'Please enter a search term',\n  NO_PRODUCTS_FOUND: 'No products found',\n};\n","import { API_BASE_URL, API_ENDPOINTS, PRODUCTS_PER_PAGE } from './constants.js';\n\n// Base API request function\nasync function apiRequest(endpoint) {\n  try {\n    const response = await fetch(`${API_BASE_URL}${endpoint}`);\n    if (!response.ok) {\n      throw new Error(`HTTP error! status: ${response.status}`);\n    }\n    return await response.json();\n  } catch (error) {\n    console.error('API request failed:', error);\n    throw error;\n  }\n}\n\n// Get products with pagination\nexport async function getProducts(page = 1) {\n  const skip = (page - 1) * PRODUCTS_PER_PAGE;\n  const endpoint = `${API_ENDPOINTS.PRODUCTS}?limit=${PRODUCTS_PER_PAGE}&skip=${skip}`;\n  return await apiRequest(endpoint);\n}\n\n// Get single product by ID\nexport async function getProductById(id) {\n  const endpoint = API_ENDPOINTS.PRODUCT_BY_ID(id);\n  return await apiRequest(endpoint);\n}\n\n// Search products\nexport async function searchProducts(query, page = 1) {\n  const skip = (page - 1) * PRODUCTS_PER_PAGE;\n  const endpoint = `${API_ENDPOINTS.SEARCH}?q=${encodeURIComponent(\n    query\n  )}&limit=${PRODUCTS_PER_PAGE}&skip=${skip}`;\n  return await apiRequest(endpoint);\n}\n\n// Get categories list\nexport async function getCategories() {\n  const endpoint = API_ENDPOINTS.CATEGORIES;\n  return await apiRequest(endpoint);\n}\n\n// Get products by category\nexport async function getProductsByCategory(category, page = 1) {\n  const skip = (page - 1) * PRODUCTS_PER_PAGE;\n  const endpoint = `${API_ENDPOINTS.CATEGORY(\n    category\n  )}?limit=${PRODUCTS_PER_PAGE}&skip=${skip}`;\n  return await apiRequest(endpoint);\n}\n\n// Get multiple products by IDs\nexport async function getProductsByIds(ids) {\n  if (!ids || ids.length === 0) {\n    return [];\n  }\n\n  try {\n    const requests = ids.map(id => getProductById(id));\n    const products = await Promise.all(requests);\n    return products;\n  } catch (error) {\n    console.error('Error fetching products by IDs:', error);\n    return [];\n  }\n}\n","// DOM references object\nexport const refs = {\n  // Categories\n  categoriesList: document.querySelector('.categories'),\n\n  // Products\n  productsList: document.querySelector('.products'),\n  loadMoreBtn: document.querySelector('.load-more-btn'),\n  notFound: document.querySelector('.not-found'),\n\n  // Search\n  searchForm: document.querySelector('.search-form'),\n  searchInput: document.querySelector('.search-form__input'),\n  clearSearchBtn: document.querySelector('.search-form__btn-clear'),\n\n  // Modal\n  modal: document.querySelector('.modal'),\n  modalContent: document.querySelector('.modal-product'),\n  modalCloseBtn: document.querySelector('.modal__close-btn'),\n  wishlistBtn: document.querySelector('.modal-product__btn--wishlist'),\n  cartBtn: document.querySelector('.modal-product__btn--cart'),\n\n  // Navigation counters\n  cartCount: document.querySelector('[data-cart-count]'),\n  wishlistCount: document.querySelector('[data-wishlist-count]'),\n\n  // Cart page specific\n  cartItemsCount: document.querySelector('[data-count]'),\n  cartTotalPrice: document.querySelector('[data-price]'),\n  buyBtn: document.querySelector('.cart-summary__btn'),\n\n  // Theme toggle\n  themeToggleBtn: document.querySelector('.theme-toggle-btn'),\n\n  // Scroll to top\n  scrollTopBtn: document.querySelector('.scroll-top-btn'),\n};\n","// Render categories list\nexport function renderCategories(categories) {\n  return categories\n    .map(\n      category =>\n        `<li class=\"categories__item\">\n       <button class=\"categories__btn\" type=\"button\">${category}</button>\n     </li>`\n    )\n    .join('');\n}\n\n// Render single product item\nexport function renderProductItem(product) {\n  return `\n    <li class=\"products__item\" data-id=\"${product.id}\">\n      <img class=\"products__image\" src=\"${product.thumbnail}\" alt=\"${\n    product.title\n  }\"/>\n      <p class=\"products__title\">${product.title}</p>\n      <p class=\"products__brand\"><span class=\"products__brand--bold\">Brand:</span> ${\n        product.brand || 'No brand'\n      }</p>\n      <p class=\"products__category\">Category: ${product.category}</p>\n      <p class=\"products__price\">Price: $${product.price}</p>\n    </li>\n  `;\n}\n\n// Render products list\nexport function renderProducts(products) {\n  if (!products || products.length === 0) {\n    return '';\n  }\n  return products.map(renderProductItem).join('');\n}\n\n// Render modal product\nexport function renderModalProduct(product) {\n  const tags = product.tags\n    ? product.tags.map(tag => `<li>${tag}</li>`).join('')\n    : '';\n\n  return `\n    <img class=\"modal-product__img\" src=\"${product.thumbnail}\" alt=\"${\n    product.title\n  }\" />\n    <div class=\"modal-product__content\">\n      <p class=\"modal-product__title\">${product.title}</p>\n      <ul class=\"modal-product__tags\">${tags}</ul>\n      <p class=\"modal-product__description\">${product.description}</p>\n      <p class=\"modal-product__shipping-information\">Shipping: ${\n        product.shippingInformation || 'Standard shipping'\n      }</p>\n      <p class=\"modal-product__return-policy\">Return Policy: ${\n        product.returnPolicy || 'Standard return policy'\n      }</p>\n      <p class=\"modal-product__price\">Price: $${product.price}</p>\n      <button class=\"modal-product__buy-btn\" type=\"button\">Buy</button>\n    </div>\n  `;\n}\n\n// Update navigation counters\nexport function updateNavCounters(cartCount, wishlistCount) {\n  const cartCountElement = document.querySelector('[data-cart-count]');\n  const wishlistCountElement = document.querySelector('[data-wishlist-count]');\n\n  if (cartCountElement) {\n    cartCountElement.textContent = cartCount;\n  }\n  if (wishlistCountElement) {\n    wishlistCountElement.textContent = wishlistCount;\n  }\n}\n\n// Update cart summary\nexport function updateCartSummary(products) {\n  const cartItemsCount = document.querySelector('[data-count]');\n  const cartTotalPrice = document.querySelector('[data-price]');\n\n  if (!cartItemsCount || !cartTotalPrice) return;\n\n  const totalItems = products.length;\n  const totalPrice = products.reduce((sum, product) => sum + product.price, 0);\n\n  cartItemsCount.textContent = totalItems;\n  cartTotalPrice.textContent = `$${totalPrice.toFixed(2)}`;\n}\n","import { STORAGE_KEYS } from './constants.js';\n\n// Get data from localStorage\nexport function getFromStorage(key) {\n  try {\n    const data = localStorage.getItem(key);\n    return data ? JSON.parse(data) : [];\n  } catch (error) {\n    console.error(`Error getting data from localStorage:`, error);\n    return [];\n  }\n}\n\n// Save data to localStorage\nexport function saveToStorage(key, data) {\n  try {\n    localStorage.setItem(key, JSON.stringify(data));\n  } catch (error) {\n    console.error(`Error saving data to localStorage:`, error);\n  }\n}\n\n// Cart functions\nexport function getCart() {\n  return getFromStorage(STORAGE_KEYS.CART);\n}\n\nexport function saveCart(cart) {\n  saveToStorage(STORAGE_KEYS.CART, cart);\n}\n\nexport function addToCart(productId) {\n  const cart = getCart();\n  if (!cart.includes(productId)) {\n    cart.push(productId);\n    saveCart(cart);\n  }\n  return cart;\n}\n\nexport function removeFromCart(productId) {\n  const cart = getCart();\n  const updatedCart = cart.filter(id => id !== productId);\n  saveCart(updatedCart);\n  return updatedCart;\n}\n\nexport function isInCart(productId) {\n  const cart = getCart();\n  return cart.includes(productId);\n}\n\n// Wishlist functions\nexport function getWishlist() {\n  return getFromStorage(STORAGE_KEYS.WISHLIST);\n}\n\nexport function saveWishlist(wishlist) {\n  saveToStorage(STORAGE_KEYS.WISHLIST, wishlist);\n}\n\nexport function addToWishlist(productId) {\n  const wishlist = getWishlist();\n  if (!wishlist.includes(productId)) {\n    wishlist.push(productId);\n    saveWishlist(wishlist);\n  }\n  return wishlist;\n}\n\nexport function removeFromWishlist(productId) {\n  const wishlist = getWishlist();\n  const updatedWishlist = wishlist.filter(id => id !== productId);\n  saveWishlist(updatedWishlist);\n  return updatedWishlist;\n}\n\nexport function isInWishlist(productId) {\n  const wishlist = getWishlist();\n  return wishlist.includes(productId);\n}\n\n// Theme functions\nexport function getTheme() {\n  return localStorage.getItem(STORAGE_KEYS.THEME) || 'light';\n}\n\nexport function saveTheme(theme) {\n  localStorage.setItem(STORAGE_KEYS.THEME, theme);\n}\n","import { CSS_CLASSES } from './constants.js';\n\n// Show/hide elements\nexport function showElement(element) {\n  if (element) {\n    element.classList.remove(CSS_CLASSES.HIDDEN);\n  }\n}\n\nexport function hideElement(element) {\n  if (element) {\n    element.classList.add(CSS_CLASSES.HIDDEN);\n  }\n}\n\n// Show/hide not found message\nexport function showNotFound(element) {\n  if (element) {\n    element.classList.add(CSS_CLASSES.NOT_FOUND_VISIBLE);\n  }\n}\n\nexport function hideNotFound(element) {\n  if (element) {\n    element.classList.remove(CSS_CLASSES.NOT_FOUND_VISIBLE);\n  }\n}\n\n// Clear element content\nexport function clearElement(element) {\n  if (element) {\n    element.innerHTML = '';\n  }\n}\n\n// Set active category\nexport function setActiveCategory(categoriesContainer, activeText) {\n  if (!categoriesContainer) return;\n\n  const buttons = categoriesContainer.querySelectorAll('.categories__btn');\n  buttons.forEach(btn => {\n    btn.classList.remove(CSS_CLASSES.CATEGORY_ACTIVE);\n    if (btn.textContent.trim() === activeText) {\n      btn.classList.add(CSS_CLASSES.CATEGORY_ACTIVE);\n    }\n  });\n}\n\n// Validate search input\nexport function isValidSearchQuery(query) {\n  return query && query.trim().length > 0;\n}\n\n// Debounce function\nexport function debounce(func, wait) {\n  let timeout;\n  return function executedFunction(...args) {\n    const later = () => {\n      clearTimeout(timeout);\n      func(...args);\n    };\n    clearTimeout(timeout);\n    timeout = setTimeout(later, wait);\n  };\n}\n\n// Scroll to top\nexport function scrollToTop() {\n  window.scrollTo({\n    top: 0,\n    behavior: 'smooth',\n  });\n}\n\n// Show loader\nexport function showLoader() {\n  // Create simple loader if not exists\n  let loader = document.querySelector('.loader');\n  if (!loader) {\n    loader = document.createElement('div');\n    loader.className = 'loader';\n    loader.innerHTML = '<div class=\"loader__spinner\"></div>';\n    document.body.appendChild(loader);\n  }\n  loader.style.display = 'flex';\n}\n\n// Hide loader\nexport function hideLoader() {\n  const loader = document.querySelector('.loader');\n  if (loader) {\n    loader.style.display = 'none';\n  }\n}\n\n// Initialize theme\nexport function initTheme() {\n  const savedTheme = localStorage.getItem('theme') || 'light';\n  document.documentElement.setAttribute('data-theme', savedTheme);\n  return savedTheme;\n}\n\n// Toggle theme\nexport function toggleTheme() {\n  const currentTheme = document.documentElement.getAttribute('data-theme');\n  const newTheme = currentTheme === 'dark' ? 'light' : 'dark';\n  document.documentElement.setAttribute('data-theme', newTheme);\n  localStorage.setItem('theme', newTheme);\n  return newTheme;\n}\n\n// Show toast message (using iziToast if available)\nexport function showToast(message, type = 'info') {\n  if (window.iziToast) {\n    window.iziToast[type]({\n      title: type.charAt(0).toUpperCase() + type.slice(1),\n      message: message,\n      position: 'topRight',\n    });\n  } else {\n    // Fallback to alert if iziToast is not available\n    alert(message);\n  }\n}\n","import { CSS_CLASSES, BUTTON_TEXTS } from './constants.js';\nimport { refs } from './refs.js';\nimport { renderModalProduct } from './render-function.js';\nimport { isInCart, isInWishlist } from './storage.js';\n\nlet currentProduct = null;\n\n// Open modal\nexport function openModal(product) {\n  if (!refs.modal || !refs.modalContent) return;\n\n  currentProduct = product;\n\n  // Render product in modal\n  refs.modalContent.innerHTML = renderModalProduct(product);\n\n  // Update button states\n  updateModalButtons(product.id);\n\n  // Show modal\n  refs.modal.classList.add(CSS_CLASSES.MODAL_OPEN);\n  document.body.style.overflow = 'hidden';\n\n  // Add keyboard listener\n  document.addEventListener('keydown', handleKeydown);\n}\n\n// Close modal\nexport function closeModal() {\n  if (!refs.modal) return;\n\n  refs.modal.classList.remove(CSS_CLASSES.MODAL_OPEN);\n  document.body.style.overflow = '';\n  currentProduct = null;\n\n  // Remove keyboard listener\n  document.removeEventListener('keydown', handleKeydown);\n}\n\n// Handle keyboard events\nfunction handleKeydown(event) {\n  if (event.key === 'Escape') {\n    closeModal();\n  }\n}\n\n// Handle modal backdrop click\nexport function handleBackdropClick(event) {\n  if (event.target === refs.modal) {\n    closeModal();\n  }\n}\n\n// Update modal button states based on product ID\nexport function updateModalButtons(productId) {\n  if (!refs.wishlistBtn || !refs.cartBtn) return;\n\n  // Update wishlist button\n  if (isInWishlist(productId)) {\n    refs.wishlistBtn.textContent = BUTTON_TEXTS.REMOVE_FROM_WISHLIST;\n  } else {\n    refs.wishlistBtn.textContent = BUTTON_TEXTS.ADD_TO_WISHLIST;\n  }\n\n  // Update cart button\n  if (isInCart(productId)) {\n    refs.cartBtn.textContent = BUTTON_TEXTS.REMOVE_FROM_CART;\n  } else {\n    refs.cartBtn.textContent = BUTTON_TEXTS.ADD_TO_CART;\n  }\n}\n\n// Get current product\nexport function getCurrentProduct() {\n  return currentProduct;\n}\n\n// Initialize modal event listeners\nexport function initModalListeners() {\n  // Close button\n  if (refs.modalCloseBtn) {\n    refs.modalCloseBtn.addEventListener('click', closeModal);\n  }\n\n  // Backdrop click\n  if (refs.modal) {\n    refs.modal.addEventListener('click', handleBackdropClick);\n  }\n}\n","import {\n  getProductById,\n  getProducts,\n  getProductsByCategory,\n  searchProducts,\n} from './products-api.js';\nimport { openModal, getCurrentProduct, updateModalButtons } from './modal.js';\nimport { refs } from './refs.js';\nimport { renderProducts, updateNavCounters } from './render-function.js';\nimport {\n  addToCart,\n  removeFromCart,\n  addToWishlist,\n  removeFromWishlist,\n  getCart,\n  getWishlist,\n  isInCart,\n  isInWishlist,\n} from './storage.js';\nimport {\n  clearElement,\n  setActiveCategory,\n  isValidSearchQuery,\n  showNotFound,\n  hideNotFound,\n  showElement,\n  hideElement,\n  showLoader,\n  hideLoader,\n  toggleTheme,\n  scrollToTop,\n  showToast,\n} from './helpers.js';\nimport { BUTTON_TEXTS, MESSAGES } from './constants.js';\n\n// Global state\nlet currentPage = 1;\nlet currentCategory = 'All';\nlet currentSearchQuery = '';\nlet isLoading = false;\n\n// Category click handler\nexport async function handleCategoryClick(event) {\n  if (!event.target.classList.contains('categories__btn')) return;\n\n  if (isLoading) return;\n  isLoading = true;\n\n  const category = event.target.textContent.trim();\n  currentCategory = category;\n  currentPage = 1;\n  currentSearchQuery = '';\n\n  try {\n    showLoader();\n    hideNotFound(refs.notFound);\n\n    // Set active category\n    setActiveCategory(refs.categoriesList, category);\n\n    // Clear search input\n    if (refs.searchInput) {\n      refs.searchInput.value = '';\n    }\n    hideElement(refs.clearSearchBtn);\n\n    let response;\n    if (category === 'All') {\n      response = await getProducts(currentPage);\n    } else {\n      response = await getProductsByCategory(category, currentPage);\n    }\n\n    // Clear and render products\n    clearElement(refs.productsList);\n\n    if (response.products && response.products.length > 0) {\n      refs.productsList.innerHTML = renderProducts(response.products);\n\n      // Show/hide load more button\n      if (\n        response.products.length === 12 &&\n        response.total > response.skip + response.products.length\n      ) {\n        showElement(refs.loadMoreBtn);\n      } else {\n        hideElement(refs.loadMoreBtn);\n      }\n    } else {\n      showNotFound(refs.notFound);\n      hideElement(refs.loadMoreBtn);\n    }\n  } catch (error) {\n    console.error('Error loading category products:', error);\n    showToast('Error loading products', 'error');\n  } finally {\n    hideLoader();\n    isLoading = false;\n  }\n}\n\n// Product click handler\nexport async function handleProductClick(event) {\n  const productItem = event.target.closest('.products__item');\n  if (!productItem) return;\n\n  const productId = parseInt(productItem.dataset.id);\n\n  try {\n    showLoader();\n    const product = await getProductById(productId);\n    hideLoader();\n    openModal(product);\n  } catch (error) {\n    hideLoader();\n    console.error('Error loading product:', error);\n    showToast('Error loading product details', 'error');\n  }\n}\n\n// Search form handler\nexport async function handleSearchSubmit(event) {\n  event.preventDefault();\n\n  if (isLoading) return;\n\n  const query = refs.searchInput.value.trim();\n\n  if (!isValidSearchQuery(query)) {\n    showToast(MESSAGES.SEARCH_EMPTY, 'error');\n    return;\n  }\n\n  isLoading = true;\n  currentSearchQuery = query;\n  currentPage = 1;\n  currentCategory = '';\n\n  try {\n    showLoader();\n    hideNotFound(refs.notFound);\n\n    // Clear active category\n    setActiveCategory(refs.categoriesList, '');\n\n    const response = await searchProducts(query, currentPage);\n\n    // Clear and render products\n    clearElement(refs.productsList);\n\n    if (response.products && response.products.length > 0) {\n      refs.productsList.innerHTML = renderProducts(response.products);\n      showElement(refs.clearSearchBtn);\n\n      // Show/hide load more button\n      if (\n        response.products.length === 12 &&\n        response.total > response.skip + response.products.length\n      ) {\n        showElement(refs.loadMoreBtn);\n      } else {\n        hideElement(refs.loadMoreBtn);\n      }\n    } else {\n      showNotFound(refs.notFound);\n      hideElement(refs.loadMoreBtn);\n      showElement(refs.clearSearchBtn);\n    }\n  } catch (error) {\n    console.error('Error searching products:', error);\n    showToast('Error searching products', 'error');\n  } finally {\n    hideLoader();\n    isLoading = false;\n  }\n}\n\n// Clear search handler\nexport async function handleClearSearch() {\n  if (refs.searchInput) {\n    refs.searchInput.value = '';\n  }\n\n  hideElement(refs.clearSearchBtn);\n  currentSearchQuery = '';\n  currentCategory = 'All';\n  currentPage = 1;\n\n  // Reset to all products\n  try {\n    showLoader();\n    hideNotFound(refs.notFound);\n\n    setActiveCategory(refs.categoriesList, 'All');\n\n    const response = await getProducts(currentPage);\n\n    clearElement(refs.productsList);\n\n    if (response.products && response.products.length > 0) {\n      refs.productsList.innerHTML = renderProducts(response.products);\n\n      if (\n        response.products.length === 12 &&\n        response.total > response.skip + response.products.length\n      ) {\n        showElement(refs.loadMoreBtn);\n      } else {\n        hideElement(refs.loadMoreBtn);\n      }\n    }\n  } catch (error) {\n    console.error('Error loading products:', error);\n    showToast('Error loading products', 'error');\n  } finally {\n    hideLoader();\n  }\n}\n\n// Load more handler\nexport async function handleLoadMore() {\n  if (isLoading) return;\n  isLoading = true;\n\n  currentPage++;\n\n  try {\n    showLoader();\n\n    let response;\n    if (currentSearchQuery) {\n      response = await searchProducts(currentSearchQuery, currentPage);\n    } else if (currentCategory === 'All') {\n      response = await getProducts(currentPage);\n    } else {\n      response = await getProductsByCategory(currentCategory, currentPage);\n    }\n\n    if (response.products && response.products.length > 0) {\n      refs.productsList.insertAdjacentHTML(\n        'beforeend',\n        renderProducts(response.products)\n      );\n\n      // Check if more products available\n      if (response.total <= response.skip + response.products.length) {\n        hideElement(refs.loadMoreBtn);\n        showToast(MESSAGES.NO_MORE_PRODUCTS, 'info');\n      }\n    } else {\n      hideElement(refs.loadMoreBtn);\n      showToast(MESSAGES.NO_MORE_PRODUCTS, 'info');\n    }\n  } catch (error) {\n    console.error('Error loading more products:', error);\n    showToast('Error loading more products', 'error');\n    currentPage--; // Revert page increment\n  } finally {\n    hideLoader();\n    isLoading = false;\n  }\n}\n\n// Wishlist button handler\nexport function handleWishlistClick() {\n  const product = getCurrentProduct();\n  if (!product) return;\n\n  const productId = product.id;\n\n  if (isInWishlist(productId)) {\n    removeFromWishlist(productId);\n  } else {\n    addToWishlist(productId);\n  }\n\n  // Update button state\n  updateModalButtons(productId);\n\n  // Update navigation counters\n  const cartCount = getCart().length;\n  const wishlistCount = getWishlist().length;\n  updateNavCounters(cartCount, wishlistCount);\n}\n\n// Cart button handler\nexport function handleCartClick() {\n  const product = getCurrentProduct();\n  if (!product) return;\n\n  const productId = product.id;\n\n  if (isInCart(productId)) {\n    removeFromCart(productId);\n  } else {\n    addToCart(productId);\n  }\n\n  // Update button state\n  updateModalButtons(productId);\n\n  // Update navigation counters\n  const cartCount = getCart().length;\n  const wishlistCount = getWishlist().length;\n  updateNavCounters(cartCount, wishlistCount);\n}\n\n// Theme toggle handler\nexport function handleThemeToggle() {\n  toggleTheme();\n}\n\n// Scroll to top handler\nexport function handleScrollToTop() {\n  scrollToTop();\n}\n\n// Buy products handler (for cart page)\nexport function handleBuyProducts() {\n  const cart = getCart();\n  if (cart.length === 0) {\n    showToast('Your cart is empty', 'error');\n    return;\n  }\n\n  // Clear cart\n  localStorage.removeItem('cart');\n\n  // Update UI\n  clearElement(refs.productsList);\n  showNotFound(refs.notFound);\n\n  // Update counters\n  updateNavCounters(0, getWishlist().length);\n\n  // Update cart summary\n  if (refs.cartItemsCount) refs.cartItemsCount.textContent = '0';\n  if (refs.cartTotalPrice) refs.cartTotalPrice.textContent = '$0';\n\n  showToast(MESSAGES.PURCHASE_SUCCESS, 'success');\n}\n\n// Initialize scroll listener for scroll-to-top button\nexport function initScrollListener() {\n  window.addEventListener('scroll', () => {\n    if (refs.scrollTopBtn) {\n      if (window.pageYOffset > 300) {\n        refs.scrollTopBtn.style.display = 'block';\n      } else {\n        refs.scrollTopBtn.style.display = 'none';\n      }\n    }\n  });\n}\n"],"names":["API_BASE_URL","API_ENDPOINTS","id","category","PRODUCTS_PER_PAGE","STORAGE_KEYS","CSS_CLASSES","BUTTON_TEXTS","MESSAGES","apiRequest","endpoint","response","error","getProducts","page","skip","getProductById","searchProducts","query","getCategories","getProductsByCategory","getProductsByIds","ids","requests","refs","renderCategories","categories","renderProductItem","product","renderProducts","products","renderModalProduct","tags","tag","updateNavCounters","cartCount","wishlistCount","cartCountElement","wishlistCountElement","updateCartSummary","cartItemsCount","cartTotalPrice","totalItems","totalPrice","sum","getFromStorage","key","data","saveToStorage","getCart","saveCart","cart","addToCart","productId","removeFromCart","updatedCart","isInCart","getWishlist","saveWishlist","wishlist","addToWishlist","removeFromWishlist","updatedWishlist","isInWishlist","showElement","element","hideElement","showNotFound","hideNotFound","clearElement","setActiveCategory","categoriesContainer","activeText","btn","isValidSearchQuery","scrollToTop","showLoader","loader","hideLoader","initTheme","savedTheme","toggleTheme","newTheme","showToast","message","type","currentProduct","openModal","updateModalButtons","handleKeydown","closeModal","event","handleBackdropClick","getCurrentProduct","initModalListeners","currentPage","currentCategory","currentSearchQuery","isLoading","handleCategoryClick","handleProductClick","productItem","handleSearchSubmit","handleClearSearch","handleLoadMore","handleWishlistClick","handleCartClick","handleThemeToggle","handleScrollToTop","handleBuyProducts","initScrollListener"],"mappings":"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"}